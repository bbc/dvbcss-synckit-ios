<!DOCTYPE html>
<html lang="en">
  <head>
    <title>TunableClock Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>

    <a name="//apple_ref/objc/Class/TunableClock" class="dashAnchor"></a>

    <a title="TunableClock Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          ClockTimelines Docs
        </a>
         (83% documented)
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/bbc/dvbcss-synckit-ios/tree/master/src/ClockTimelines">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">ClockTimelines Reference</a>
      <img class="carat" src="../img/carat.png" />
      TunableClock Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ClockBase.html">ClockBase</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CorrelatedClock.html">CorrelatedClock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/CorrelationFactory.html">CorrelationFactory</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/MonotonicTime.html">MonotonicTime</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/SystemClock.html">SystemClock</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/TunableClock.html">TunableClock</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Constants.html">Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@ClockErrorDomain">ClockErrorDomain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@ClockTimelinesVersionNumber">ClockTimelinesVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@ClockTimelinesVersionString">ClockTimelinesVersionString</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@kAvailableKey">kAvailableKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@kCorrelationKey">kCorrelationKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@kSpeedKey">kSpeedKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@kStartTicksKey">kStartTicksKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Constants.html#/c:@kTickRateKey">kTickRateKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ClockError.html">ClockError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ClockProtocol.html">ClockProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Type Definitions.html">Type Definitions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Type Definitions/Correlation.html">Correlation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/_correlation.html">_correlation</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>TunableClock</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="k">@interface</span> <span class="nc">TunableClock</span> <span class="p">:</span> <span class="nc">ClockBase</span></code></pre>

                </div>
              </div>
            <p>A clock whose tick offset and speed can be adjusted on the fly.
 Must be based on another clock, a parent clock. A tunable clock specifies a correlation relationship
 with respect to its parent clock. This correlation specifies a tick value, a tick rate and a speed value for this clock and a tick value from the parent clock as from which this relationship applies.</p>

<p>Advancement of time of this clock is based on the tick count and rates reported by
 the supplied parent clock.
 If you adjust the tickRate or speed, then the change is applied going forward from the moment it is made.
 E.g. if you are observing the rate of increase of the ticks property, then doubling the speed wil cause
 the ticks property to start increasing faster but will not cause it to suddenly jump value.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(py)lastTicks"></a>
                    <a name="//apple_ref/objc/Property/lastTicks" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(py)lastTicks">lastTicks</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Last tick value of parent clock from which tickRate and speed applies</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">assign</span><span class="p">,</span> <span class="n">readwrite</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">int64_t</span> <span class="n">lastTicks</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">lastTicks</span><span class="p">:</span> <span class="kt">Int64</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(py)startTicks"></a>
                    <a name="//apple_ref/objc/Property/startTicks" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(py)startTicks">startTicks</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Start tick count for this clock</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">assign</span><span class="p">,</span> <span class="n">readwrite</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">int64_t</span> <span class="n">startTicks</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">startTicks</span><span class="p">:</span> <span class="kt">Int64</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(py)slew"></a>
                    <a name="//apple_ref/objc/Property/slew" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(py)slew">slew</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This clock&rsquo;s slew</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">getter</span><span class="o">=</span><span class="n">slew</span><span class="p">,</span> <span class="n">assign</span><span class="p">,</span> <span class="n">readwrite</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">int64_t</span> <span class="n">slew</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">slew</span><span class="p">:</span> <span class="kt">Int64</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(im)init"></a>
                    <a name="//apple_ref/objc/Method/-init" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(im)init">-init</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Default-value init method disallowed. Use initWithParentClock() method instead.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="n">init</span><span class="p">;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(im)initWithParentClock:TickRate:Ticks:"></a>
                    <a name="//apple_ref/objc/Method/-initWithParentClock:TickRate:Ticks:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(im)initWithParentClock:TickRate:Ticks:">-initWithParentClock:TickRate:Ticks:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initialise a tunable clock instance.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithParentClock</span><span class="p">:(</span><span class="n"><a href="../Classes/ClockBase.html">ClockBase</a></span> <span class="o">*</span><span class="p">)</span><span class="nv">parentClock</span>
                           <span class="nf">TickRate</span><span class="p">:(</span><span class="kt">uint64_t</span><span class="p">)</span><span class="nv">tickRate</span>
                              <span class="nf">Ticks</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">ticks</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="nf">init</span><span class="o">!</span><span class="p">(</span><span class="nv">parentClock</span><span class="p">:</span> <span class="kt"><a href="../Classes/ClockBase.html">ClockBase</a></span><span class="o">!</span><span class="p">,</span> <span class="nv">tickRate</span><span class="p">:</span> <span class="kt">UInt64</span><span class="p">,</span> <span class="nv">ticks</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>parentClock</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>parent clock used for advancement of time in this current clock</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>tickRate</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A frequency/tick rate in ticks per second for thic clock</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>ticks</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The starting tick count for this clock</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>a tunable clock instance</p>

                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(im)rebase"></a>
                    <a name="//apple_ref/objc/Method/-rebase" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(im)rebase">-rebase</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Rebase correlation of this tunable clock (with the parent clock) to the parent&rsquo;s clock current tick value.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">rebase</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">rebase</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(im)adjustTicks:"></a>
                    <a name="//apple_ref/objc/Method/-adjustTicks:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(im)adjustTicks:">-adjustTicks:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Change the tick value of this clock by a specified offset value</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">adjustTicks</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">offset</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">adjustTicks</span><span class="p">(</span><span class="nv">offset</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>offset</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>offset tick value</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(im)adjustTimeNanos:"></a>
                    <a name="//apple_ref/objc/Method/-adjustTimeNanos:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(im)adjustTimeNanos:">-adjustTimeNanos:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Change the time value of this clock by a specified offset value</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">adjustTimeNanos</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">offset_nanos</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">adjustTimeNanos</span><span class="p">(</span><span class="nv">offset_nanos</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>offset_nanos</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>offset in nanoseconds</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:objc(cs)TunableClock(im)adjustTimeNanos:WithStaticError:AndErrorRate:"></a>
                    <a name="//apple_ref/objc/Method/-adjustTimeNanos:WithStaticError:AndErrorRate:" class="dashAnchor"></a>
                    <a class="token" href="#/c:objc(cs)TunableClock(im)adjustTimeNanos:WithStaticError:AndErrorRate:">-adjustTimeNanos:WithStaticError:AndErrorRate:</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Change the time value of this clock by a specified offset value and update the error value of this clock as well
  as the rate at which this error grows.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Objective-C</p>
                          <pre class="highlight"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">adjustTimeNanos</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">offset_nanos</span>
        <span class="nf">WithStaticError</span><span class="p">:(</span><span class="kt">int64_t</span><span class="p">)</span><span class="nv">staticErrorNanos</span>
           <span class="nf">AndErrorRate</span><span class="p">:(</span><span class="kt">int32_t</span><span class="p">)</span><span class="nv">errorRatePPM</span><span class="p">;</span></code></pre>

                        </div>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">adjustTimeNanos</span><span class="p">(</span><span class="nv">offset_nanos</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">,</span> <span class="n">withStaticError</span> <span class="nv">staticErrorNanos</span><span class="p">:</span> <span class="kt">Int64</span><span class="p">,</span> <span class="n">andErrorRate</span> <span class="nv">errorRatePPM</span><span class="p">:</span> <span class="kt">Int32</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>offset_nanos</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>offset in nanoseconds</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>staticErrorNanos</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>a static error value in nanoseconds for this clock.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>errorRatePPM</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the rate at which this clock&rsquo;s error grows</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2016 <a class="link" href="http://bbc.co.uk/rd" target="_blank" rel="external">Rajiv_Ramdhany</a>. All rights reserved. (Last updated: 2016-09-19)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.7.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
